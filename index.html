<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>The Internet Is Dead OS version 1.0</title>
  <style>
    :root {
      --bg: #ffccff;       /* desktop background */
      --ui: #66ff99;       /* taskbar + start menu */
      --ui-dark: #52cc7a;  /* bevel/shadow */
      --text: #0a0a0a;
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      height: 100%;
      background: var(--bg);
      color: var(--text);
      font-family: "MS Sans Serif", Tahoma, Geneva, Verdana, system-ui, sans-serif;
      overflow: hidden;
    }

    /* Desktop */
    .desktop { position: relative; height: calc(100% - 40px); padding: 16px; }
    .icon-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, 84px);
      grid-auto-rows: 90px;
      gap: 12px;
      align-content: start;
      user-select: none;
    }
    .icon {
      width: 84px; height: 90px;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      text-align: center; cursor: pointer; border: 1px solid transparent; border-radius: 6px;
      background: transparent;
    }
    .icon:focus, .icon:hover { background: #ffffffcc; outline: none; border-color: #00000055; }
    .icon img { width: 40px; height: 40px; image-rendering: pixelated; }
    .icon span { margin-top: 6px; font-size: 12px; background: #00000022; color: #000; padding: 2px 4px; border-radius: 4px; }

    /* Taskbar */
    .taskbar {
      position: fixed; left: 0; right: 0; bottom: 0; height: 40px;
      background: var(--ui);
      box-shadow: 0 -2px 0 var(--ui-dark) inset, 0 -8px 24px rgba(0,0,0,.15);
      display: flex; align-items: center; gap: 8px; padding: 0 8px;
    }
    .start-btn {
      display: flex; align-items: center; gap: 8px;
      background: linear-gradient(#aaffcc, var(--ui));
      border: 2px outset #c8ffd9; border-radius: 4px;
      font-weight: 700; letter-spacing: .5px; padding: 6px 12px; cursor: pointer;
    }
    .start-btn:active { border-style: inset; }
    .logo { width: 14px; height: 14px; background: conic-gradient(from 45deg, #ff66ff, #66ccff, #ffff66, #ff66ff); border: 1px solid #0006; box-shadow: 0 0 0 1px #fff inset; }
    .task-items { flex: 1; display: flex; gap: 6px; }
    .task { background: #d9ffe9; border: 2px inset #b0f7cf; border-radius: 4px; padding: 4px 10px; min-width: 120px; }
    .clock { margin-left: auto; padding: 4px 8px; background: #b8ffd6; border: 2px inset #92f0b6; border-radius: 4px; font-variant-numeric: tabular-nums; }

    /* Start menu */
    .start-menu { position: fixed; bottom: 40px; left: 8px; width: 280px; background: var(--ui); border: 2px outset #c8ffd9; border-radius: 6px; box-shadow: 0 16px 48px rgba(0,0,0,.25); display: none; }
    .start-menu.open { display: block; }
    .menu-title { padding: 10px 12px; font-weight: 800; background: linear-gradient(90deg, #66ff99, #99ffd1); border-bottom: 1px solid #0002; }
    .menu-list { list-style: none; margin: 0; padding: 8px; max-height: 50vh; overflow: auto; }
    .menu-list li a { display: flex; align-items: center; gap: 8px; padding: 8px; border-radius: 6px; text-decoration: none; color: #000; }
    .menu-list li a:hover { background: #ffffffaa; }
    .menu-list img { width: 18px; height: 18px; }

    a { color: inherit; }

    /* Editable link list: hidden from UI, only for you to edit. */
    #linksData { display: none; }

    @media (max-width: 600px) {
      .icon-grid { grid-template-columns: repeat(auto-fill, 72px); grid-auto-rows: 86px; }
      .taskbar { height: 48px; }
      .desktop { height: calc(100% - 48px); }
    }
  </style>
</head>
<body>
  <!--
    Edit your links here. One <li><a href="URL">Title</a></li> per link.
    Both the Start menu and desktop icons are generated from this list.
    Example shows only "Home". Add as many as you want.
  -->
  <ul id="linksData">
    <li><a href="/">Home</a></li>
    <!-- <li><a href="/images/">Images</a></li> -->
    <!-- <li><a href="https://web.archive.org/web/20170322054157/http://tektite.tv/">Wayback: tektite.tv (2017)</a></li> -->
    <!-- <li><a href="https://oldschool.runescape.wiki/">OSRS Wiki</a></li> -->
  </ul>

  <div class="desktop" id="desktop">
    <div class="icon-grid" id="iconGrid" aria-label="Desktop icons"></div>
  </div>

  <div class="taskbar" role="navigation" aria-label="Taskbar">
    <button class="start-btn" id="startBtn" aria-haspopup="true" aria-expanded="false">
      <div class="logo" aria-hidden="true"></div>
      <span>Start</span>
    </button>
    <div class="task-items">
      <div class="task" aria-hidden="true">Welcome.txt</div>
    </div>
    <div class="clock" id="clock" aria-live="polite">00:00</div>
  </div>

  <nav class="start-menu" id="startMenu" aria-label="Start menu">
    <div class="menu-title">TheInternetIsDead.org</div>
    <ul class="menu-list" id="menuList"></ul>
  </nav>

  <script>
    const menuList = document.getElementById("menuList");
    const iconGrid = document.getElementById("iconGrid");

    function iconSVG() {
      const svg = `<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 64 64'>
        <defs>
          <linearGradient id='g' x1='0' y1='0' x2='1' y2='1'>
            <stop offset='0' stop-color='#ff66ff'/>
            <stop offset='1' stop-color='#66ccff'/>
          </linearGradient>
        </defs>
        <rect x='6' y='6' width='52' height='52' rx='8' fill='url(#g)' stroke='black' opacity='0.9'/>
        <rect x='12' y='38' width='40' height='14' rx='2' fill='#ffffff' opacity='0.9'/>
        <rect x='12' y='12' width='40' height='20' rx='2' fill='#66ff99' opacity='0.9' stroke='#00000055'/>
      </svg>`;
      return 'data:image/svg+xml;base64,' + btoa(svg);
    }

    // Parse the editable link list
    const LINKS = Array.from(document.querySelectorAll('#linksData a')).map(a => ({
      title: a.textContent.trim() || a.getAttribute('href'),
      url: a.getAttribute('href')
    }));

    // Build Start menu + desktop icons from the editable list
    LINKS.forEach(link => {
      // Start menu item
      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = link.url;
      a.target = '_blank';
      a.rel = 'noopener';
      const img = document.createElement('img');
      img.alt = '';
      img.src = iconSVG();
      a.appendChild(img);
      a.append(document.createTextNode(link.title));
      li.appendChild(a);
      menuList.appendChild(li);

      // Desktop icon (double-click to open)
      const ic = document.createElement('button');
      ic.className = 'icon';
      ic.title = link.title;
      ic.addEventListener('dblclick', () => window.open(link.url, '_blank', 'noopener'));
      ic.addEventListener('keydown', e => { if (e.key === 'Enter') window.open(link.url, '_blank', 'noopener'); });
      const im = document.createElement('img');
      im.src = iconSVG();
      im.alt = '';
      const label = document.createElement('span');
      label.textContent = link.title;
      ic.appendChild(im);
      ic.appendChild(label);
      iconGrid.appendChild(ic);
    });

    // Start menu toggling / click-away
    const startBtn = document.getElementById('startBtn');
    const startMenu = document.getElementById('startMenu');
    startBtn.addEventListener('click', () => {
      const open = startMenu.classList.toggle('open');
      startBtn.setAttribute('aria-expanded', open);
    });
    document.addEventListener('click', e => {
      const isInside = startMenu.contains(e.target) || startBtn.contains(e.target);
      if (!isInside) {
        startMenu.classList.remove('open');
        startBtn.setAttribute('aria-expanded', 'false');
      }
    });

    // Simple taskbar clock
    function updateClock(){
      const d = new Date();
      const hh = String(d.getHours()).padStart(2,'0');
      const mm = String(d.getMinutes()).padStart(2,'0');
      document.getElementById('clock').textContent = `${hh}:${mm}`;
    }
    updateClock();
    setInterval(updateClock, 10000);
  </script>
</body>
</html>
