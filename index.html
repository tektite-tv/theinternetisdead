<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Woe You Found TheInternetIsDead.org</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      background: #000;
      overflow: hidden;
      font-family: system-ui, sans-serif;
    }
  </style>
</head>
<body>

  <div id="site-header"></div>
  <div id="site-main"></div>

  <script>
  function injectHTMLWithScripts(container, html) {
    container.innerHTML = html;

    // Find scripts inside injected HTML
    const scripts = container.querySelectorAll("script");
    scripts.forEach(oldScript => {
      const newScript = document.createElement("script");

      // Copy attributes
      [...oldScript.attributes].forEach(attr => {
        newScript.setAttribute(attr.name, attr.value);
      });

      // Copy inline JS
      newScript.textContent = oldScript.textContent;

      // Replace script so it actually executes
      oldScript.replaceWith(newScript);
    });
  }

  // Load header
  fetch("header.html")
    .then(r => r.text())
    .then(html => {
      document.getElementById("site-header").innerHTML = html;
    });

  // Load main AND run its scripts
  fetch("main.html")
    .then(r => r.text())
    .then(html => {
      const container = document.getElementById("site-main");
      injectHTMLWithScripts(container, html);
    });
</script>


</body>
</html>
