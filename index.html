<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>theinternetisdead.org - Home</title>
  <style>
    html, body { height: 100%; }
    *, *::before, *::after { box-sizing: border-box; }
    body {
      margin: 0;
      background: #000;
      overflow: hidden;
      font-family: "Courier New", system-ui, sans-serif;
      color: white;
    }
    canvas#grid {
      position: fixed;
      inset: 0;
      width: 100vw;
      height: 100vh;
      display: block;
      filter: contrast(115%) saturate(115%);
      z-index: 0;
    }
    .grain {
      pointer-events: none;
      position: fixed;
      inset: 0;
      opacity: .3;
      mix-blend-mode: overlay;
      z-index: 0;
    }
    .main-content {
      position: relative;
      z-index: 1;
      padding: 2rem;
      text-align: center;
    }

    .main-content img {
  border-radius: 50%; /* makes it circular */
  border: 4px solid transparent; 
  position: relative;
  z-index: 2;
}

/* glitchy RGB chromatic aberration border effect */
.main-content img::before,
.main-content img::after {
  content: '';
  position: absolute;
  top: -4px;
  left: -4px;
  width: calc(100% + 8px);
  height: calc(100% + 8px);
  border-radius: 50%;
  border: 2px solid;
  mix-blend-mode: screen;
  pointer-events: none;
  animation: glitch-border 1.8s infinite;
}

.main-content img::before {
  border-color: red;
  transform: translate(2px, -2px);
}

.main-content img::after {
  border-color: cyan;
  transform: translate(-2px, 2px);
}

@keyframes glitch-border {
  0%, 100% { transform: translate(0,0); }
  20% { transform: translate(3px, -2px); }
  40% { transform: translate(-2px, 3px); }
  60% { transform: translate(2px, 2px); }
  80% { transform: translate(-3px, -1px); }
}
    
    .main-content h1 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
    }
    .main-content p {
      max-width: 600px;
      margin: 0 auto 2rem auto;
    }
    .main-content button {
      padding: 0.75rem 1.5rem;
      font-size: 1rem;
      border: none;
      border-radius: 0.5rem;
      background: rgba(255,255,255,0.2);
      color: white;
      cursor: pointer;
    }
    .main-content button:hover {
      background: rgba(255,255,255,0.35);
    }
  </style>
</head>
<body>
  <canvas id="grid" aria-hidden="true"></canvas>
  <div class="grain" aria-hidden="true"></div>

  <div class="main-content">
    <img width="25%" src="/face.png">
    <h1>You've reached theinternetisdead.org</h1>
    <p>You've met a terrible fate, haven't you.</p>
    <button>Click me</button>
  </div>

  <script>
    const DPR = Math.max(1, Math.min(2.5, window.devicePixelRatio || 1));
    const canvas = document.getElementById('grid');
    const ctx = canvas.getContext('2d');
    let W = 0, H = 0;
    let hexR = 10;
    let points = [];
    let t = 0;
    const timeScale = 0.00035;
    const fieldScale = 0.013;
    const pointer = { x: 0, y: 0, active: false };

    function palette(v) {
      const u = (v + 1) * 0.5;
      if (u < 0.33) return 'rgba(255,0,0,0.8)';
      else if (u < 0.66) return 'rgba(0,255,0,0.8)';
      else return 'rgba(0,0,255,0.8)';
    }

    function resize() {
      W = Math.floor(window.innerWidth);
      H = Math.floor(window.innerHeight);
      canvas.width = Math.floor(W * DPR);
      canvas.height = Math.floor(H * DPR);
      canvas.style.width = W + 'px';
      canvas.style.height = H + 'px';
      ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
      const targetCols = Math.max(24, Math.round(W / 36));
      hexR = Math.max(6, Math.min(22, Math.round(W / targetCols)));
      buildGrid();
    }

    function buildGrid() {
      points.length = 0;
      const r = hexR;
      const hexW = r * 2;
      const hexH = Math.sqrt(3) * r;
      const margin = Math.max(40, r * 3);
      for (let y = -margin, row = 0; y < H + margin; y += hexH, row++) {
        const offsetX = (row % 2) ? hexW * 0.5 : 0;
        for (let x = -margin + offsetX; x < W + margin; x += hexW) {
          points.push({ x, y });
        }
      }
    }

    function setPointer(e) {
      const rect = canvas.getBoundingClientRect();
      pointer.x = (e.clientX - rect.left);
      pointer.y = (e.clientY - rect.top);
      pointer.active = true;
    }
    window.addEventListener('pointermove', setPointer);
    window.addEventListener('pointerdown', setPointer);
    window.addEventListener('pointerleave', () => (pointer.active = false));
    window.addEventListener('blur', () => (pointer.active = false));

    let lastTS = 0;
    function frame(ts) {
      const dt = Math.min(32, ts - lastTS || 16.7);
      lastTS = ts;
      t += dt;
      draw();
      requestAnimationFrame(frame);
    }

    function draw() {
      ctx.fillStyle = 'rgba(5,8,12,0.16)';
      ctx.fillRect(0, 0, W, H);
      const rBase = Math.max(1.2, Math.min(3.2, hexR * 0.18));
      const inflRad = Math.max(W, H) * 0.18;
      const inflRad2 = inflRad * inflRad;
      for (let i = 0; i < points.length; i++) {
        const p = points[i];
        const n = snoise3(p.x * fieldScale, p.y * fieldScale, t * timeScale);
        const ang = n * Math.PI * 2;
        const ox = Math.cos(ang) * hexR * 0.15;
        const oy = Math.sin(ang) * hexR * 0.15;
        let x = p.x + ox;
        let y = p.y + oy;
        if (pointer.active) {
          const dx = pointer.x - x;
          const dy = pointer.y - y;
          const d2 = dx*dx + dy*dy;
          if (d2 < inflRad2) {
            const d = Math.sqrt(d2);
            const g = 1 - d / inflRad;
            const pull = g * g * hexR * 0.9;
            x += (dx / d) * pull;
            y += (dy / d) * pull;
          }
        }
        let r = rBase + Math.max(0, n) * rBase * 1.4;
        ctx.fillStyle = palette(n);
        ctx.beginPath();
        ctx.arc(x, y, r, 0, Math.PI * 2);
        ctx.fill();
      }
    }

    const grad3 = [ [1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1] ];
    const p = new Uint8Array(256);
    for (let i = 0; i < 256; i++) p[i] = i;
    (function(){ let seed = (performance.now() * 1000)|0; function rnd(){ seed ^= seed<<13; seed ^= seed>>>17; seed ^= seed<<5; return (seed>>>0)/4294967296; } for (let i=255;i>0;i--){ const j=Math.floor(rnd()*(i+1)); const t=p[i]; p[i]=p[j]; p[j]=t; } })();
    const perm = new Uint8Array(512);
    const permMod12 = new Uint8Array(512);
    for (let i = 0; i < 512; i++) { perm[i] = p[i & 255]; permMod12[i] = perm[i] % 12; }
    function dot(g, x, y, z){ return g[0]*x + g[1]*y + g[2]*z; }
    function snoise3(xin, yin, zin) {
      const F3=1/3, G3=1/6; let n0,n1,n2,n3;
      const s=(xin+yin+zin)*F3; const i=Math.floor(xin+s); const j=Math.floor(yin+s); const k=Math.floor(zin+s);
      const t=(i+j+k)*G3; const X0=i-t, Y0=j-t, Z0=k-t;
      const x0=xin-X0, y0=yin-Y0, z0=zin-Z0;
      let i1,j1,k1,i2,j2,k2;
      if(x0>=y0){ if(y0>=z0){i1=1;j1=0;k1=0;i2=1;j2=1;k2=0;} else if(x0>=z0){i1=1;j1=0;k1=0;i2=1;j2=0;k2=1;} else {i1=0;j1=0;k1=1;i2=1;j2=0;k2=1;} } else { if(y0<z0){i1=0;j1=0;k1=1;i2=0;j2=1;k2=1;} else if(x0<z0){i1=0;j1=1;k1=0;i2=0;j2=1;k2=1;} else {i1=0;j1=1;k1=0;i2=1;j2=1;k2=0;} }
      const x1=x0-i1+G3, y1=y0-j1+G3, z1=z0-k1+G3;
      const x2=x0-i2+2*G3, y2=y0-j2+2*G3, z2=z0-k2+2*G3;
      const x3=x0-1+3*G3, y3=y0-1+3*G3, z3=z0-1+3*G3;
      const ii=i&255, jj=j&255, kk=k&255;
      const gi0=grad3[permMod12[ii+perm[jj+perm[kk]]]];
      const gi1=grad3[permMod12[ii+i1+perm[jj+j1+perm[kk+k1]]]];
      const gi2=grad3[permMod12[ii+i2+perm[jj+j2+perm[kk+k2]]]];
      const gi3=grad3[permMod12[ii+1+perm[jj+1+perm[kk+1]]]];
      let t0=0.6-x0*x0-y0*y0-z0*z0; if(t0<0)n0=0; else {t0*=t0;n0=t0*t0*dot(gi0,x0,y0,z0);} let t1=0.6-x1*x1-y1*y1-z1*z1; if(t1<0)n1=0; else {t1*=t1;n1=t1*t1*dot(gi1,x1,y1,z1);} let t2=0.6-x2*x2-y2*y2-z2*z2; if(t2<0)n2=0; else {t2*=t2;n2=t2*t2*dot(gi2,x2,y2,z2);} let t3=0.6-x3*x3-y3*y3-z3*z3; if(t3<0)n3=0; else {t3*=t3;n3=t3*t3*dot(gi3,x3,y3,z3);} return 32*(n0+n1+n2+n3);
    }

    resize();
    window.addEventListener('resize', resize);
    requestAnimationFrame(frame);
  </script>
</body>
</html>
