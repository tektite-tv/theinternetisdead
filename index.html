<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TheInternetIsDead.org</title>
  <style>
    :root {
      --bg: #ffccff;       /* desktop background */
      --ui: #66ff99;       /* taskbar + start menu */
      --ui-dark: #52cc7a;  /* bevel/shadow */
      --text: #0a0a0a;
      --window: #fff;
      --titlebar: linear-gradient(#e9fff3, #bdf7d8);
    }
    * { box-sizing: border-box; }
    html, body { height: 100%; }
    body {
      margin: 0;
      height: 100%;
      background: var(--bg);
      color: var(--text);
      font-family: "MS Sans Serif", Tahoma, Geneva, Verdana, system-ui, sans-serif;
      overflow: hidden;
    }

    /* Desktop */
    .desktop { position: relative; height: calc(100% - 40px); padding: 16px; }
    .icon-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, 84px);
      grid-auto-rows: 90px;
      gap: 12px;
      align-content: start;
      user-select: none;
    }
    .icon {
      width: 84px; height: 90px;
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      text-align: center; cursor: pointer; border: 1px solid transparent; border-radius: 6px;
      background: transparent;
    }
    .icon:focus, .icon:hover { background: #ffffffcc; outline: none; border-color: #00000055; }
    .icon img { width: 40px; height: 40px; image-rendering: pixelated; }
    .icon span { margin-top: 6px; font-size: 12px; background: #00000022; color: #000; padding: 2px 4px; border-radius: 4px; }

    /* Taskbar */
    .taskbar {
      position: fixed; left: 0; right: 0; bottom: 0; height: 40px;
      background: var(--ui);
      box-shadow: 0 -2px 0 var(--ui-dark) inset, 0 -8px 24px rgba(0,0,0,.15);
      display: flex; align-items: center; gap: 8px; padding: 0 8px;
    }
    .start-btn {
      display: flex; align-items: center; gap: 8px;
      background: linear-gradient(#aaffcc, var(--ui));
      border: 2px outset #c8ffd9; border-radius: 4px;
      font-weight: 700; letter-spacing: .5px; padding: 6px 12px; cursor: pointer;
    }
    .start-btn:active { border-style: inset; }
    .logo { width: 14px; height: 14px; background: conic-gradient(from 45deg, #ff66ff, #66ccff, #ffff66, #ff66ff); border: 1px solid #0006; box-shadow: 0 0 0 1px #fff inset; }
    .task-items { flex: 1; display: flex; gap: 6px; align-items: stretch; }
    .task { background: #d9ffe9; border: 2px inset #b0f7cf; border-radius: 4px; padding: 4px 10px; min-width: 120px; display: flex; align-items: center; cursor: pointer; }
    .task[hidden] { display: none; }
    .clock { margin-left: auto; padding: 4px 8px; background: #b8ffd6; border: 2px inset #92f0b6; border-radius: 4px; font-variant-numeric: tabular-nums; }

    /* Start menu */
    .start-menu { position: fixed; bottom: 40px; left: 8px; width: 280px; background: var(--ui); border: 2px outset #c8ffd9; border-radius: 6px; box-shadow: 0 16px 48px rgba(0,0,0,.25); display: none; }
    .start-menu.open { display: block; }
    .menu-title { padding: 10px 12px; font-weight: 800; background: linear-gradient(90deg, #66ff99, #99ffd1); border-bottom: 1px solid #0002; }
    .menu-list { list-style: none; margin: 0; padding: 8px; max-height: 50vh; overflow: auto; }
    .menu-list li a { display: flex; align-items: center; gap: 8px; padding: 8px; border-radius: 6px; text-decoration: none; color: #000; }
    .menu-list li a:hover { background: #ffffffaa; }
    .menu-list img { width: 18px; height: 18px; }

    a { color: inherit; }

    /* Editable link list: hidden from UI, only for you to edit. */
    #linksData { display: none; }

    /* Window (Welcome.txt) */
    .window {
      position: absolute; top: 72px; left: 72px; width: 460px; max-width: calc(100% - 32px);
      background: var(--window); border: 2px outset #c8ffd9; border-radius: 6px; box-shadow: 0 10px 30px rgba(0,0,0,.25);
    }
    .titlebar {
      display: flex; align-items: center; justify-content: space-between; gap: 8px;
      padding: 6px 8px; background: var(--titlebar); border-bottom: 1px solid #0002; cursor: move; user-select: none;
      border-top-left-radius: 6px; border-top-right-radius: 6px;
    }
    .titlebar .name { font-weight: 700; }
    .win-buttons { display: flex; gap: 6px; }
    .win-btn {
      width: 20px; height: 20px; display: grid; place-items: center; cursor: pointer;
      background: #d9ffe9; border: 2px outset #b0f7cf; border-radius: 4px;
    }
    .win-btn:active { border-style: inset; }
    .content { padding: 12px; max-height: 50vh; overflow: auto; background: #fff; border-bottom-left-radius: 6px; border-bottom-right-radius: 6px; }
    .window.minimized .content { display: none; }

    @media (max-width: 600px) {
      .icon-grid { grid-template-columns: repeat(auto-fill, 72px); grid-auto-rows: 86px; }
      .taskbar { height: 48px; }
      .desktop { height: calc(100% - 48px); }
    }
  </style>
</head>
<body>
  <ul id="linksData">
    <li><a href="/">Home</a></li>
  </ul>

  <div class="desktop" id="desktop">
    <div class="icon-grid" id="iconGrid" aria-label="Desktop icons"></div>

    <!-- Welcome.txt window -->
    <section class="window" id="welcomeWin" role="dialog" aria-label="Welcome.txt" aria-modal="false">
      <header class="titlebar" id="welcomeTitlebar">
        <span class="name">Welcome.txt</span>
        <div class="win-buttons">
          <button class="win-btn" id="btnMin" title="Minimize" aria-label="Minimize">_</button>
          <button class="win-btn" id="btnClose" title="Close" aria-label="Close">Ã—</button>
        </div>
      </header>
      <div class="content">
        <p>Welcome to <strong>The Internet Is Dead OS</strong>. Drag this window around, minimize it to the taskbar, or close it like a champ.</p>
      </div>
    </section>
  </div>

  <div class="taskbar" role="navigation" aria-label="Taskbar">
    <button class="start-btn" id="startBtn" aria-haspopup="true" aria-expanded="false">
      <div class="logo" aria-hidden="true"></div>
      <span>Start</span>
    </button>
    <div class="task-items">
      <button class="task" id="taskWelcome" title="Welcome.txt (click to restore)">Welcome.txt</button>
    </div>
    <div class="clock" id="clock" aria-live="polite">00:00 AM</div>
  </div>

  <nav class="start-menu" id="startMenu" aria-label="Start menu">
    <div class="menu-title">TheInternetIsDead.org</div>
    <ul class="menu-list" id="menuList"></ul>
  </nav>

  <script>
    const startBtn = document.getElementById('startBtn');
    const startMenu = document.getElementById('startMenu');
    startBtn.addEventListener('click', () => {
      const open = startMenu.classList.toggle('open');
      startBtn.setAttribute('aria-expanded', open);
    });
    document.addEventListener('click', e => {
      if (!startMenu.contains(e.target) && !startBtn.contains(e.target)) {
        startMenu.classList.remove('open');
        startBtn.setAttribute('aria-expanded', 'false');
      }
    });

    // Clock
    const clockEl = document.getElementById('clock');
    const tz = 'America/Toronto';
    function updateClock(){
      const now = new Date();
      const time = now.toLocaleTimeString([], { hour: 'numeric', minute: '2-digit', hour12: true, timeZone: tz });
      clockEl.textContent = time.replace('a.m.', 'AM').replace('p.m.', 'PM');
    }
    updateClock();
    setInterval(updateClock, 1000);

    // Welcome window controls
    const win = document.getElementById('welcomeWin');
    const titlebar = document.getElementById('welcomeTitlebar');
    const btnMin = document.getElementById('btnMin');
    const btnClose = document.getElementById('btnClose');
    const taskWelcome = document.getElementById('taskWelcome');

    let zTop = 10;
    function bringToFront(el){ el.style.zIndex = ++zTop; }
    win.addEventListener('mousedown', () => bringToFront(win));

    // Dragging only when clicked
    let dragging = false;
    let offsetX = 0, offsetY = 0;

    titlebar.addEventListener('mousedown', e => {
      dragging = true;
      offsetX = e.clientX - win.offsetLeft;
      offsetY = e.clientY - win.offsetTop;
      bringToFront(win);
    });
    document.addEventListener('mousemove', e => {
      if (!dragging) return;
      let x = e.clientX - offsetX;
      let y = e.clientY - offsetY;
      win.style.left = x + 'px';
      win.style.top = y + 'px';
    });
    document.addEventListener('mouseup', () => dragging = false);

    btnMin.addEventListener('click', () => win.classList.add('minimized'));
    btnClose.addEventListener('click', () => win.style.display = 'none');
    taskWelcome.addEventListener('click', () => {
      win.style.display = 'block';
      win.classList.remove('minimized');
      bringToFront(win);
    });
  </script>
</body>
</html>
