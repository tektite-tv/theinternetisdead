<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Layered Parallax Curse</title>
  <style>
    html, body {
      margin: 0;
      overflow: hidden;
      background: black;
      height: 100vh;
      width: 100vw;
      cursor: crosshair;
    }

    .layer {
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      transition: transform 0.1s ease-out;
      pointer-events: none;
    }

    .white-box {
      position: absolute;
      top: 50%;
      left: 50%;
      width: 100px;
      height: 100px;
      background: white;
      transform: translate(-50%, -50%);
      z-index: 9999;
      box-shadow: 0 0 10px #00ffff;
      border: 3px solid magenta;
      cursor: pointer;
    }

    body.trapped {
      cursor: none;
    }
  </style>
</head>
<body>

<div class="white-box" onclick="trapCursor(event)"></div>

<!-- Stacked cursed rainbow rectangles -->
<div class="layer" id="layer1" style="width: 140px; height: 90px; background: red;     z-index: 10;"></div>
<div class="layer" id="layer2" style="width: 180px; height: 110px; background: orange;  z-index: 9;"></div>
<div class="layer" id="layer3" style="width: 240px; height: 100px; background: yellow;  z-index: 8;"></div>
<div class="layer" id="layer4" style="width: 300px; height: 160px; background: green;   z-index: 7;"></div>
<div class="layer" id="layer5" style="width: 360px; height: 120px; background: blue;    z-index: 6;"></div>
<div class="layer" id="layer6" style="width: 400px; height: 180px; background: indigo;  z-index: 5;"></div>
<div class="layer" id="layer7" style="width: 460px; height: 200px; background: violet;  z-index: 4;"></div>

<script>
  let isTrapped = false;

  function trapCursor(event) {
    isTrapped = true;
    document.body.classList.add('trapped');
  }

  document.addEventListener('mousemove', (e) => {
    if (!isTrapped) return;

    const centerX = window.innerWidth / 2;
    const centerY = window.innerHeight / 2;

    const dx = e.clientX - centerX;
    const dy = e.clientY - centerY;

    // Move each layer with increasing parallax offset
    const layers = document.querySelectorAll('.layer');
    layers.forEach((layer, index) => {
      const intensity = (index + 1) * 0.07;
      const offsetX = dx * intensity;
      const offsetY = dy * intensity;
      layer.style.transform = `translate(calc(-50% + ${offsetX}px), calc(-50% + ${offsetY}px)) rotate(${index * 2}deg)`;
    });
  });
</script>

</body>
</html>
